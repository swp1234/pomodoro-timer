<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <meta name="description" content="포모도로 타이머로 집중력을 높이고 생산성을 극대화하세요. 웹 기반 무료 생산성 도구입니다.">
  <meta name="theme-color" content="#0f0f23">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Pomodoro Timer">

  <!-- Open Graph -->
  <meta property="og:title" content="Pomodoro Timer - 생산성 향상 앱">
  <meta property="og:description" content="포모도로 타이머로 집중력을 높이고 생산성을 극대화하세요">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dopabrain.com/pomodoro-timer">
  <meta property="og:image" content="icon-512.svg">
    <meta property="og:site_name" content="DopaBrain">
  <meta property="og:image:width" content="512">
  <meta property="og:image:height" content="512">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Pomodoro Timer - 생산성 향상 앱">
  <meta name="twitter:description" content="포모도로 타이머로 집중력을 높이고 생산성을 극대화하세요">
  <meta name="twitter:image" content="icon-512.svg">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="icon-192.svg">
  <link rel="apple-touch-icon" href="icon-192.svg">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- 스타일시트 -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Pomodoro Timer",
    "description": "포모도로 타이머로 집중력을 높이고 생산성을 극대화하세요",
    "url": "https://dopabrain.com/pomodoro-timer",
    "applicationCategory": "Productivity",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "DopaBrain"
    }
  }
  </script>

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8GSWM40TV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J8GSWM40TV');
  </script>

  <title>Pomodoro Timer - 포모도로 타이머</title>
</head>
<body>
  <!-- 헤더 -->
  <header>
    <div class="header-content">
      <div class="app-title" data-i18n="app.title">Pomodoro Timer</div>
      <div class="app-subtitle" data-i18n="app.subtitle">생산성 향상 앱</div>
    </div>

    <div class="header-controls">
      <!-- 언어 선택기 -->
      <div class="language-selector">
        <button id="lang-toggle" title="Select Language" aria-label="Select Language">🌐</button>
        <div id="lang-menu" class="lang-menu hidden">
          <button class="lang-option" data-lang="ko">🇰🇷 한국어</button>
          <button class="lang-option" data-lang="en">🇺🇸 English</button>
          <button class="lang-option" data-lang="ja">🇯🇵 日本語</button>
          <button class="lang-option" data-lang="zh">🇨🇳 中文</button>
          <button class="lang-option" data-lang="es">🇪🇸 Español</button>
          <button class="lang-option" data-lang="pt">🇧🇷 Português</button>
          <button class="lang-option" data-lang="id">🇮🇩 Bahasa Indonesia</button>
          <button class="lang-option" data-lang="tr">🇹🇷 Türkçe</button>
          <button class="lang-option" data-lang="de">🇩🇪 Deutsch</button>
          <button class="lang-option" data-lang="fr">🇫🇷 Français</button>
          <button class="lang-option" data-lang="hi">🇮🇳 हिन्दी</button>
          <button class="lang-option" data-lang="ru">🇷🇺 Русский</button>
        </div>
      </div>

      <!-- 컨트롤 버튼 -->
      <button id="focus-btn" class="btn btn-icon" title="Focus Mode" aria-label="Toggle Focus Mode">⚙️</button>
      <button id="stats-btn" class="btn btn-icon" title="Statistics" aria-label="View Statistics">📊</button>
      <button id="settings-btn" class="btn btn-icon" title="Settings" aria-label="Open Settings">⚙️</button>
    </div>
  </header>

  <!-- 메인 콘텐츠 -->
  <main>
    <div class="timer-container">
      <!-- 타이머 정보 -->
      <div class="timer-info">
        <div class="timer-label" id="timer-label" data-i18n="timer.work">작업 시간</div>
      </div>

      <!-- 원형 타이머 -->
      <div class="timer-display">
        <div class="timer-circle">
          <div class="timer-content">
            <div class="timer-time" id="timer-time">25:00</div>
            <div class="timer-period" id="timer-period" data-i18n="timer.minutes">분</div>
          </div>
        </div>
      </div>

      <!-- 타이머 통계 -->
      <div class="timer-stats">
        <div class="stat-item">
          <div class="stat-value" id="cycle-display">1</div>
          <div class="stat-label" data-i18n="stats.pomodoroCount">사이클</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="completed-display">0</div>
          <div class="stat-label" data-i18n="stats.completed">완료</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="goal-display">0/8</div>
          <div class="stat-label" data-i18n="stats.goal">목표</div>
        </div>
      </div>

      <!-- 컨트롤 버튼 -->
      <div class="controls">
        <button id="start-btn" class="btn btn-primary" data-i18n="buttons.start">시작</button>
        <button id="pause-btn" class="btn btn-secondary" data-i18n="buttons.pause" style="display: none;">일시정지</button>
        <button id="reset-btn" class="btn btn-secondary" data-i18n="buttons.reset">초기화</button>
      </div>
    </div>
  </main>

  <!-- 설정 모달 -->
  <div id="settings-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" data-i18n="settings.title">설정</h2>
        <button class="modal-close" aria-label="Close">×</button>
      </div>

      <div class="form-group">
        <label class="form-label" for="work-time-input" data-i18n="settings.workTime">작업 시간 (분)</label>
        <input type="number" id="work-time-input" class="form-input" min="1" max="120" value="25">
      </div>

      <div class="form-group">
        <label class="form-label" for="break-time-input" data-i18n="settings.breakTime">휴식 시간 (분)</label>
        <input type="number" id="break-time-input" class="form-input" min="1" max="60" value="5">
      </div>

      <div class="form-group">
        <label class="form-label" for="long-break-input" data-i18n="settings.longBreakTime">긴 휴식 시간 (분)</label>
        <input type="number" id="long-break-input" class="form-input" min="1" max="120" value="15">
      </div>

      <div class="form-group">
        <label class="form-label" for="cycle-count-input" data-i18n="settings.cycleCount">긴 휴식까지 사이클 수</label>
        <input type="number" id="cycle-count-input" class="form-input" min="2" max="10" value="4">
      </div>

      <div class="form-group">
        <label class="checkbox-wrapper">
          <input type="checkbox" id="notification-check" class="checkbox-input" checked>
          <span class="checkbox-label" data-i18n="settings.notification">알림 활성화</span>
        </label>
      </div>

      <div class="form-group">
        <label class="checkbox-wrapper">
          <input type="checkbox" id="sound-check" class="checkbox-input" checked>
          <span class="checkbox-label" data-i18n="settings.sound">완료 알림음</span>
        </label>
      </div>

      <div style="display: flex; gap: 12px;">
        <button id="settings-save" class="btn btn-primary" style="flex: 1;" data-i18n="settings.save">저장</button>
        <button class="btn btn-secondary modal-close" style="flex: 1;" data-i18n="settings.cancel">취소</button>
      </div>
    </div>
  </div>

  <!-- 통계 모달 -->
  <div id="stats-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" data-i18n="stats.title">통계</h2>
        <button class="modal-close" aria-label="Close">×</button>
      </div>

      <!-- 오늘 통계 -->
      <div class="stats-section">
        <h3 class="stats-title" data-i18n="stats.today">오늘</h3>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-card-value" id="today-pomodoro">0</div>
            <div class="stat-card-label" data-i18n="stats.pomodoroCount">완료한 포모도로</div>
          </div>
          <div class="stat-card">
            <div class="stat-card-value" id="today-time">0h</div>
            <div class="stat-card-label" data-i18n="stats.totalTime">총 집중 시간</div>
          </div>
        </div>

        <!-- 목표 설정 -->
        <div class="goal-section">
          <div class="goal-header">
            <span class="goal-title" data-i18n="goals.title">오늘의 목표</span>
            <button class="btn btn-icon" id="goal-edit-btn" style="width: auto; padding: 0 12px; font-size: 12px;">✎</button>
          </div>
          <div class="goal-progress">
            <div class="goal-progress-bar" id="goal-progress-bar" style="width: 0%;"></div>
          </div>
          <div class="goal-text" id="goal-text">0 / 8</div>
        </div>

        <!-- AI 분석 -->
        <div class="premium-section">
          <div class="premium-badge" data-i18n="premium.analysis">AI 분석</div>
          <div class="premium-title" data-i18n="premium.insights">생산성 인사이트</div>
          <div class="premium-description" data-i18n="premium.recommendation">
            광고를 시청하고 AI 기반 생산성 분석을 확인하세요
          </div>
          <button class="btn-premium" id="ai-analysis-btn" data-i18n="premium.watchAd">광고 시청하기</button>

          <div class="analysis-results" id="analysis-results">
            <div class="analysis-item">
              <div class="analysis-label" data-i18n="premium.focus">집중력</div>
              <div class="analysis-score" id="focus-score">85</div>
              <div class="analysis-bar">
                <div class="analysis-bar-fill" style="width: 85%;"></div>
              </div>
            </div>
            <div class="analysis-item">
              <div class="analysis-label" data-i18n="premium.consistency">꾸준함</div>
              <div class="analysis-score" id="consistency-score">72</div>
              <div class="analysis-bar">
                <div class="analysis-bar-fill" style="width: 72%;"></div>
              </div>
            </div>
            <div class="analysis-item">
              <div class="analysis-label" data-i18n="premium.efficiency">효율성</div>
              <div class="analysis-score" id="efficiency-score">88</div>
              <div class="analysis-bar">
                <div class="analysis-bar-fill" style="width: 88%;"></div>
              </div>
            </div>
            <div class="analysis-item">
              <div class="analysis-label">종합</div>
              <div class="analysis-score" id="overall-score">82</div>
              <div class="analysis-bar">
                <div class="analysis-bar-fill" style="width: 82%;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 주간 통계 -->
      <div class="stats-section">
        <h3 class="stats-title" data-i18n="stats.thisWeek">이번 주</h3>
        <div class="chart-container">
          <div class="chart-title" data-i18n="stats.pomodoroCount">일별 완료 포모도로</div>
          <div class="chart-bars">
            <div class="chart-bar" data-value="0"></div>
            <div class="chart-bar" data-value="0"></div>
            <div class="chart-bar" data-value="0"></div>
            <div class="chart-bar" data-value="0"></div>
            <div class="chart-bar" data-value="0"></div>
            <div class="chart-bar" data-value="0"></div>
            <div class="chart-bar" data-value="0"></div>
          </div>
          <div class="chart-labels">
            <span>Mon</span>
            <span>Tue</span>
            <span>Wed</span>
            <span>Thu</span>
            <span>Fri</span>
            <span>Sat</span>
            <span>Sun</span>
          </div>
        </div>
      </div>

      <button class="btn btn-secondary modal-close" style="width: 100%;" data-i18n="buttons.exit">닫기</button>
    </div>
  </div>

  <!-- 목표 설정 모달 -->
  <div id="goal-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" data-i18n="goals.title">오늘의 목표</h2>
        <button class="modal-close" aria-label="Close">×</button>
      </div>

      <div class="form-group">
        <label class="form-label" for="goal-input" data-i18n="goals.targetPomodoros">목표 포모도로 수</label>
        <input type="number" id="goal-input" class="form-input" min="1" max="50" value="8">
      </div>

      <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 20px; line-height: 1.5;">
        목표 개수를 설정하면 하루 동안 달성해야 할 포모도로 사이클 수를 정할 수 있습니다.
      </p>

      <div style="display: flex; gap: 12px;">
        <button id="goal-save" class="btn btn-primary" style="flex: 1;" data-i18n="goals.save">저장</button>
        <button class="btn btn-secondary modal-close" style="flex: 1;" data-i18n="buttons.exit">취소</button>
      </div>
    </div>
  </div>

  <!-- AdSense 광고 -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3600813755953882"
    crossorigin="anonymous"></script>

  <!-- 스크립트 -->
  <script src="js/i18n.js"></script>
  <script src="js/app.js"></script>

  <!-- 추가 이벤트 리스너 -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 목표 편집 버튼
      document.getElementById('goal-edit-btn')?.addEventListener('click', () => {
        document.getElementById('goal-modal').classList.add('active');
      });

      // AI 분석 버튼
      document.getElementById('ai-analysis-btn')?.addEventListener('click', () => {
        const resultsContainer = document.getElementById('analysis-results');
        if (resultsContainer.classList.contains('active')) {
          resultsContainer.classList.remove('active');
        } else {
          // 광고 시청 시뮬레이션
          alert('광고 재생 중입니다. 30초 후 분석 결과가 표시됩니다.');
          setTimeout(() => {
            resultsContainer.classList.add('active');
          }, 2000);
        }
      });

      // 모달 외부 클릭 시 닫기
      document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            modal.classList.remove('active');
          }
        });
      });

      // 모바일 뒤로가기 버튼 처리
      window.addEventListener('popstate', () => {
        document.querySelectorAll('.modal.active').forEach(modal => {
          modal.classList.remove('active');
        });
      });
    });
  </script>
  <script src="/portal/js/cross-promo.js" defer></script>
</body>
</html>
